{% extends 'JordiLlonchCrudGeneratorBundle::layout.html.twig' %}

{% block title %}
{{ parent() }} - {{ 'views.show.show'|trans({'%entity%': 'SubTarea'}, 'JordiLlonchCrudGeneratorBundle') }}
{% endblock %}

{% block menu %}
{{ include('ContadoresBundle:NavBars:navbar.html.twig') }}
{% endblock %}

{% block page %}

<h1>SubTarea</h1>

<form class="form-horizontal">
    <fieldset>        <div class="control-group">
            <label class="control-label">Id</label>
            <div class="controls">                <span class="input-xlarge uneditable-input">{{ entity.id }}</span>            </div>
        </div>        <div class="control-group">
            <label class="control-label">Fecha inicio</label>
            <div class="controls">                <span class="input-xlarge uneditable-input">{{ entity.fechaInicio|date('Y-m-d H:i:s') }}</span>            </div>
        </div>        <div class="control-group">
            <label class="control-label">Fecha fin</label>
            <div class="controls">                <span class="input-xlarge uneditable-input">{{ entity.fechaFin|date('Y-m-d H:i:s') }}</span>            </div>
        </div>        <div class="control-group">
            <label class="control-label">Fecha creacion</label>
            <div class="controls">                <span class="input-xlarge uneditable-input">{{ entity.fechaCreacion|date('Y-m-d H:i:s') }}</span>            </div>
        </div>        <div class="control-group">
            <label class="control-label">Tiempo empleado</label>
            <div class="controls">                <span class="input-xlarge uneditable-input">{{ entity.tiempoEmpleado }}</span>            </div>
        </div>        <div class="control-group">
            <label class="control-label">Nombre</label>
            <div class="controls">                <span class="input-xlarge uneditable-input">{{ entity.nombre }}</span>            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Estado</label>
            <div class="controls">                <span class="input-xlarge uneditable-input">
                     <b>   {{ entity.estadoActual.tipoEstado }}</b></span>            </div>
        </div></fieldset>
</form>
    <form class="form-horizontal well" action="{{ path('subtarea_cambiar_estado_jefe', { 'id': entity.id }) }}" method="post" >
        <div class="control-group">
            <label class="control-label">Nuevo Estado</label>
            <select name="idTipoEstado" required="true">
                <option value="-1" selected="selected"> Seleccione un nuevo estado</option>
                {% for tipoEstado in estados %}

                    <option value="{{tipoEstado.id}}">{{tipoEstado.__toString()}}</option>

                {% endfor %}

            </select>
        </div>
        <div class="control-group">
            <label class="control-label" for="horas">Tiempo trabajado</label>
            <input type="number" name="horas" placeholder="Horas trabajadas"/>
        </div>
        <button type="submit" >Cambiar Estado</button>
    </form>
<div>
    <div class="float-left">
        <a class="btn" href="{{ path('subtarea') }}">
            {{ 'views.recordactions.backtothelist'|trans({}, 'JordiLlonchCrudGeneratorBundle') }}
        </a>
    </div>
    <div class="float-left">
        <a class="btn" href="{{ path('tarea_show', { 'id': entity.tarea.id }) }}">
            Volver a la Tarea
        </a>
    </div>
    <div class="float-left">
        <a class="btn btn-primary" href="{{ path('subtarea_edit', { 'id': entity.id }) }}">
            {{ 'views.recordactions.edit'|trans({}, 'JordiLlonchCrudGeneratorBundle') }}
        </a>
    </div>
    <div class="float-left">
        <a class="btn btn-primary" href="{{ path('subtarea_new') }}">
           Crear otra Sub Tarea
        </a>
    </div>
    <div class="float-left">
        <form action="{{ path('subtarea_delete', { 'id': entity.id }) }}" method="post">
            <input type="hidden" name="_method" value="DELETE" />
            {{ form_widget(delete_form) }}
            <button class="btn btn-danger" type="submit" onclick="return confirm('{{ 'views.recordactions.confirm'|trans({}, 'JordiLlonchCrudGeneratorBundle') }}');">{{ 'views.recordactions.delete'|trans({}, 'JordiLlonchCrudGeneratorBundle') }}</button>
        </form>
    </div>
</div>
{% endblock %}
