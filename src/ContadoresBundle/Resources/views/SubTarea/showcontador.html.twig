{% extends 'JordiLlonchCrudGeneratorBundle::layout.html.twig' %}

{% block title %}
    {{ parent() }} - {{ 'views.show.show'|trans({'%entity%': 'Tarea'}, 'JordiLlonchCrudGeneratorBundle') }}
{% endblock %}

{% block menu %}
    {{ include('ContadoresBundle:NavBars:navbar.html.twig') }}
{% endblock %}

{% block page %}

    <h1>{{ entity.nombre }}</h1>

    <form class="form-horizontal">
        <fieldset>        <div class="control-group">
                <label class="control-label">Fecha inicio</label>
                <div class="controls">                <span class="input-xlarge uneditable-input">{{ entity.fechaInicio|date('Y-m-d') }}</span>            </div>
            </div>

            <div class="control-group">
                <label class="control-label">Fecha fin</label>
                <div class="controls">
                        <span class="input-xlarge uneditable-input">
                             {% if entity.fechaFin %}
                                 {{ entity.fechaFin|date('Y-m-d') }}
                             {% else %}
                                 <i>Esta tarea no está terminada aún</i>
                             {% endif %}
                        </span>

                </div>
            </div>

            <div class="control-group">
                <label class="control-label">Tiempo empleado</label>
                <div class="controls">                <span class="input-xlarge uneditable-input">{{ entity.tiempoEmpleado }}</span>            </div>
            </div>
            <div class="control-group">
                <label class="control-label">Estado</label>
                <div class="controls">                <span class="input-xlarge uneditable-input">
                     <b>   {{ entity.estadoActual.tipoEstado }}</b></span>            </div>
            </div>

        </fieldset>
    </form>
    <form class="form-horizontal well" action="{{ path('subtarea_cambiar_estado', { 'id': entity.id }) }}" method="post" >
        <div class="control-group">
            <label class="control-label">Nuevo Estado</label>
            <select name="idTipoEstado" required="true">
                <option value="-1" selected="selected"> Seleccione un nuevo estado</option>
                {% for tipoEstado in estados %}

                    <option value="{{tipoEstado.id}}">{{tipoEstado.__toString()}}</option>

                {% endfor %}

        </select>
        </div>
        <div class="control-group">
            <label class="control-label" for="horas">Tiempo trabajado</label>
            <input type="number" name="horas" placeholder="Horas trabajadas"/>
        </div>
        <button type="submit" >Cambiar Estado</button>
    </form>
    <div class="float-left">
        <a class="btn" href="{{ path('tarea_contador_show', { 'id': entity.tarea.id }) }}">
            Volver a la Tarea
        </a>
    </div>

{% endblock %}
